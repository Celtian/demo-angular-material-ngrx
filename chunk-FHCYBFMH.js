import{a as rt}from"./chunk-BLJHV5JJ.js";import{b as D,c as xt,d as ht}from"./chunk-CFI342PH.js";import{b as ot,c as nt,e as ct}from"./chunk-4H3VS4FS.js";import{d as at}from"./chunk-JZOTIZNG.js";import{d as dt}from"./chunk-D3JFTT3S.js";import{D as Z,E as $,F as tt,G as et,c as b,e as Q,f as V,o as A,p as H,pa as it,x as G,y as J}from"./chunk-QJEKRHCX.js";import{a as lt,b as pt,c as st,d as mt,e as ut,f as ft}from"./chunk-EIMWVRG7.js";import{$a as u,Ad as X,Ca as T,Cb as n,Cd as K,Db as r,Dd as W,Eb as _,Ed as Y,Ib as R,Ic as U,Kb as L,Lb as f,Pb as k,Qb as N,Rb as j,Sc as z,Wb as p,Xa as t,Xb as m,Yb as S,ac as I,bc as F,cc as d,da as y,dc as c,fb as O,lb as B,pa as M,sb as P,tb as x,ub as h,wa as w,xa as E,xb as v,yb as C,zd as q}from"./chunk-PLUG2Y6C.js";var vt=e=>[e],St=(e,o)=>[e,o];function gt(e,o){if(e&1){let i=R();n(0,"div",1)(1,"button",4),L("deleted",function(){w(i);let l=f(2);return E(l.onDeleted())}),p(2),d(3,"translate"),r(),n(4,"a",5),d(5,"localize"),p(6),d(7,"translate"),r()()}if(e&2){let i=f(2);t(),x("appPostDelete",i.dataSource.data().id),t(),S(" ",c(3,4,"uni.delete")," "),t(2),x("routerLink",I(10,vt,c(5,6,"/"+i.dataSource.data().id+"/"+i.ROUTE_DEFINITION.POSTS.EDIT))),t(2),m(c(7,8,"uni.edit"))}}function Pt(e,o){if(e&1&&(v(0,gt,8,12,"div",1),n(1,"mat-card")(2,"mat-card-header")(3,"mat-card-subtitle"),p(4),r(),n(5,"mat-card-title"),p(6),d(7,"uppercase"),r()(),n(8,"mat-card-content")(9,"p",2),p(10),d(11,"translate"),r(),n(12,"p"),p(13),r(),n(14,"p",2),p(15),d(16,"translate"),r(),_(17,"app-user-info",3),r()()),e&2){let i=f();C(i.dataSource.state()==="data"?0:-1),t(3),h("blur-sm",i.dataSource.state()==="loading"),t(),m("#"+i.dataSource.data().id),t(),h("blur-sm",i.dataSource.state()==="loading"),t(),m(c(7,18,i.dataSource.data().title)),t(3),h("blur-sm",i.dataSource.state()==="loading"),t(),S(" ",c(11,20,"post-detail.about-post")," "),t(2),h("blur-sm",i.dataSource.state()==="loading"),t(),S(" ",i.dataSource.data().body," "),t(),h("blur-sm",i.dataSource.state()==="loading"),t(),S(" ",c(16,22,"post-detail.about-author")," "),t(2),x("user",i.dataSource.data().user)("isLoading",i.dataSource.state()==="loading")}}function bt(e,o){if(e&1&&(n(0,"mat-card")(1,"mat-card-content",6),_(2,"mat-icon",7),d(3,"translate"),n(4,"div"),p(5),r()()()),e&2){let i=f();t(2),P("aria-label",c(3,2,"uni.aria-label.error-icon")),t(3),m(i.dataSource.error())}}function It(e,o){e&1&&(n(0,"mat-card")(1,"mat-card-content",6),_(2,"mat-icon",8),d(3,"translate"),n(4,"div"),p(5),d(6,"translate"),r()()()),e&2&&(t(2),P("aria-label",c(3,2,"uni.aria-label.warning-icon")),t(3),m(c(6,4,"error.post-was-not-found")))}function Dt(e,o){if(e&1&&(_(0,"mat-icon",10),d(1,"translate"),n(2,"a",5),d(3,"localize"),p(4),r()),e&2){let i=f(2);P("aria-label",c(1,3,"uni.aria-label.arrow-icon")),t(2),x("routerLink",F(7,St,c(3,5,"/"),i.dataSource.data().id)),t(2),m(i.dataSource.data().id)}}function yt(e,o){if(e&1&&(n(0,"div",9)(1,"a",5),d(2,"localize"),p(3),d(4,"translate"),r(),v(5,Dt,5,10),r()),e&2){let i=f();t(),x("routerLink",I(7,vt,c(2,3,"/"))),t(2),m(c(4,5,"breadcrumbs.app.posts")),t(2),C(i.dataSource.state()==="data"?5:-1)}}var de=(()=>{let o=class o{constructor(a,l,s,g,Ct,_t){this.postCollection=a,this.translate=l,this.breadcrumbsPortalService=s,this.lr=g,this.router=Ct,this.store=_t,this.destroyRef=M(T),this.dataSource=new nt(D),this.ROUTE_DEFINITION=at}ngOnDestroy(){this.portalContent?.detach()}ngOnInit(){this.breadcrumbsPortalService.setPortal(this.portalContent),this.store.select(ot).pipe(ht(this.dataSource),xt(),y(a=>this.postCollection.getExpanded(a)),V(this.destroyRef)).subscribe({next:a=>{this.dataSource.setData(a)},error:a=>{if(a instanceof z&&a.status>=400&&a.status<500)this.dataSource.setData(D);else{let l=this.translate.instant("error.unexpected-exception");this.dataSource.setError(l)}}})}onDeleted(){let a=this.lr.translateRoute("/");this.router.navigate([a])}};o.\u0275fac=function(l){return new(l||o)(u(dt),u(K),u(et),u(Z),u(G),u(it))},o.\u0275cmp=O({type:o,selectors:[["app-post-detail"]],viewQuery:function(l,s){if(l&1&&k(b,7),l&2){let g;N(g=j())&&(s.portalContent=g.first)}},decls:4,vars:3,consts:[["class","container flex items-center gap-1 py-4",4,"cdkPortal"],[1,"flex","items-end","justify-end","gap-2"],[1,"mb-2","font-semibold","text-md"],[3,"user","isLoading"],["mat-button","","color","accent",3,"deleted","appPostDelete"],["mat-button","","color","primary",3,"routerLink"],[1,"flex","flex-col","gap-2","text-center"],["aria-hidden","false","fontIcon","error"],["aria-hidden","false","fontIcon","warning"],[1,"container","flex","items-center","gap-1","py-4"],["aria-hidden","false","fontIcon","chevron_right"]],template:function(l,s){l&1&&(v(0,Pt,18,24),v(1,bt,6,4,"mat-card"),v(2,It,7,6,"mat-card"),B(3,yt,6,9,"div",0)),l&2&&(C(s.dataSource.state()==="data"||s.dataSource.state()==="loading"?0:-1),t(),C(s.dataSource.state()==="error"?1:-1),t(),C(s.dataSource.state()==="empty"?2:-1))},dependencies:[U,ft,lt,st,ut,mt,pt,X,q,H,A,Q,b,Y,W,rt,J,tt,$,ct],styles:["[_nghost-%COMP%]{width:100%;margin-right:auto;margin-left:auto;padding-right:1rem;padding-left:1rem}@media (min-width: 640px){[_nghost-%COMP%]{max-width:640px}}@media (min-width: 768px){[_nghost-%COMP%]{max-width:768px}}@media (min-width: 1024px){[_nghost-%COMP%]{max-width:1024px}}@media (min-width: 1280px){[_nghost-%COMP%]{max-width:1280px}}@media (min-width: 1536px){[_nghost-%COMP%]{max-width:1536px}}[_nghost-%COMP%]{display:block}[_nghost-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}[_nghost-%COMP%]{padding-top:1rem;padding-bottom:1rem}"],changeDetection:0});let e=o;return e})();export{de as PostDetailComponent};
