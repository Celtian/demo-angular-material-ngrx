import{G as j,H as E,Oa as f,Pa as G,Qa as O,Sa as u,Ta as g,Wa as R,la as k,ma as w,na as F,oa as U,pa as B,qa as A,ra as W,sa as P}from"./chunk-5J5MYJ4A.js";import{Cb as v,Db as s,Eb as c,R as I,Wa as a,_c as S,bc as l,cc as m,da as h,gb as x,ia as r,kc as y,kd as M,lc as C,ld as b,md as T,na as i,w as D}from"./chunk-NLKMFLTC.js";var H=(()=>{class t extends R{constructor(){let e=i(S),o=i(O),n=i(G);super("Posts",e,o,n)}getExpandedById(e){let o;return e==null&&(o=new Error(`No "${this.entityName}" key to get`)),this.execute("GET",this.entityUrl+e,o,null,{httpParams:{fromObject:{_expand:"user"}}})}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=r({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var N=(()=>{class t extends u{constructor(){let e=i(g);super("Users",e)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=r({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var at=(()=>{class t extends u{constructor(){let e=i(g);super("Posts",e),this.postData=i(H),this.userCollection=i(N)}getAndCountWithQuery(e,o){return this.postData.getAndCountWithQuery(e,o).pipe(h(n=>this.addManyToCache(n.items,{mergeStrategy:f.IgnoreChanges})))}getExpanded(e){return this.postData.getExpandedById(e).pipe(h(o=>{this.addOneToCache(o,{mergeStrategy:f.IgnoreChanges}),this.userCollection.addOneToCache(o.user,{mergeStrategy:f.IgnoreChanges})}))}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=r({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Q=(()=>{class t{constructor(){this.data=i(w),this.dialogRef=i(k)}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=x({type:t,selectors:[["app-confirm-dialog"]],decls:11,vars:10,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","align","center"],["mat-button","",3,"mat-dialog-close"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(o,n){o&1&&(s(0,"h1",0),l(1),c(),s(2,"div",1),l(3),c(),s(4,"div",2)(5,"button",3),l(6),y(7,"translate"),c(),s(8,"button",4),l(9),y(10,"translate"),c()()),o&2&&(a(),m(n.data.title),a(2),m(n.data.content),a(2),v("mat-dialog-close",!1),a(),m(C(7,6,"uni.no")),a(2),v("mat-dialog-close",!0),a(),m(C(10,8,"uni.yes")))},dependencies:[P,U,B,W,A,E,j,T,b],encapsulation:2,changeDetection:0})}}return t})();var L=(()=>{class t{constructor(){this.dialog=i(F)}open(e,o){return this.dialog.open(Q,{width:"sm",data:{title:e,content:o}}).afterClosed()}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=r({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var d=(function(t){return t[t.Delete=0]="Delete",t[t.UnsavedWork=1]="UnsavedWork",t})(d||{}),Tt=(()=>{class t{constructor(){this.confirm=i(L),this.translate=i(M)}openCustomConfirmDialog(e){let o=this.getTitle(e),n=this.getContent(e);return this.open(o,n)}getTitle(e){switch(e){case d.Delete:return this.translate.instant("custom-confirm-dialog.delete-post.title");case d.UnsavedWork:return this.translate.instant("custom-confirm-dialog.unsaved-work.title");default:return this.translate.instant("custom-confirm-dialog.default.title")}}getContent(e){switch(e){case d.Delete:return this.translate.instant("custom-confirm-dialog.delete-post.content");case d.UnsavedWork:return this.translate.instant("custom-confirm-dialog.unsaved-work.content");default:return this.translate.instant("custom-confirm-dialog.default.content")}}open(e,o){return this.confirm.open(e,o).pipe(I(),D(n=>!!n))}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=r({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();export{N as a,at as b,d as c,Tt as d};
