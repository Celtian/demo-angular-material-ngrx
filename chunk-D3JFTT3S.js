import{$ as R,Aa as g,Ba as h,Ea as N,V as F,W as B,X as A,Y as U,Z as W,_ as O,aa as G,o as E,p as S,wa as u,xa as P,ya as H}from"./chunk-QJEKRHCX.js";import{$a as y,Cb as c,Cd as T,Db as l,Dd as k,Ed as w,T as C,Tc as b,Wb as m,Xa as s,Xb as p,cc as j,dc as x,fb as M,ga as v,ka as a,oa as n,tb as I,x as D}from"./chunk-PLUG2Y6C.js";var Q=(()=>{let t=class t{constructor(e,i){this.data=e,this.dialogRef=i}};t.\u0275fac=function(i){return new(i||t)(y(B),y(F))},t.\u0275cmp=M({type:t,selectors:[["app-confirm-dialog"]],decls:11,vars:10,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","align","center"],["mat-button","",3,"mat-dialog-close"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(i,r){i&1&&(c(0,"h1",0),m(1),l(),c(2,"div",1),m(3),l(),c(4,"div",2)(5,"button",3),m(6),j(7,"translate"),l(),c(8,"button",4),m(9),j(10,"translate"),l()()),i&2&&(s(),p(r.data.title),s(2),p(r.data.content),s(2),I("mat-dialog-close",!1),s(),p(x(7,6,"uni.no")),s(2),I("mat-dialog-close",!0),s(),p(x(10,8,"uni.yes")))},dependencies:[G,U,W,R,O,S,E,w,k],encapsulation:2,changeDetection:0});let o=t;return o})();var L=(()=>{let t=class t{constructor(e){this.dialog=e}open(e,i){return this.dialog.open(Q,{width:"sm",data:{title:e,content:i}}).afterClosed()}};t.\u0275fac=function(i){return new(i||t)(n(A))},t.\u0275prov=a({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var f=function(o){return o[o.Delete=0]="Delete",o[o.UnsavedWork=1]="UnsavedWork",o}(f||{}),rt=(()=>{let t=class t{constructor(e,i){this.confirm=e,this.translate=i}openCustomConfirmDialog(e){let i=this.getTitle(e),r=this.getContent(e);return this.open(i,r)}getTitle(e){switch(e){case f.Delete:return this.translate.instant("custom-confirm-dialog.delete-post.title");case f.UnsavedWork:return this.translate.instant("custom-confirm-dialog.unsaved-work.title");default:return this.translate.instant("custom-confirm-dialog.default.title")}}getContent(e){switch(e){case f.Delete:return this.translate.instant("custom-confirm-dialog.delete-post.content");case f.UnsavedWork:return this.translate.instant("custom-confirm-dialog.unsaved-work.content");default:return this.translate.instant("custom-confirm-dialog.default.content")}}open(e,i){return this.confirm.open(e,i).pipe(C(),D(r=>!!r))}};t.\u0275fac=function(i){return new(i||t)(n(L),n(T))},t.\u0275prov=a({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var q=(()=>{let t=class t extends N{constructor(e,i,r){super("Posts",e,i,r)}getExpandedById(e){let i;return e==null&&(i=new Error(`No "${this.entityName}" key to get`)),this.execute("GET",this.entityUrl+e,i,null,{httpParams:{fromObject:{_expand:"user"}}})}};t.\u0275fac=function(i){return new(i||t)(n(b),n(H),n(P))},t.\u0275prov=a({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var z=(()=>{let t=class t extends g{constructor(e){super("Users",e)}};t.\u0275fac=function(i){return new(i||t)(n(h))},t.\u0275prov=a({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var dt=(()=>{let t=class t extends g{constructor(e,i,r){super("Posts",r),this.postData=e,this.userCollection=i}getAndCountWithQuery(e,i){return this.postData.getAndCountWithQuery(e,i).pipe(v(r=>this.addManyToCache(r.items,{mergeStrategy:u.IgnoreChanges})))}getExpanded(e){return this.postData.getExpandedById(e).pipe(v(i=>{this.addOneToCache(i,{mergeStrategy:u.IgnoreChanges}),this.userCollection.addOneToCache(i.user,{mergeStrategy:u.IgnoreChanges})}))}};t.\u0275fac=function(i){return new(i||t)(n(q),n(z),n(h))},t.\u0275prov=a({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();export{z as a,f as b,rt as c,dt as d};
