import{$ as G,Aa as g,Ba as h,Ea as H,V as w,W as F,X as B,Y as U,Z as A,_ as W,aa as O,o as M,p as b,wa as u,xa as R,ya as P}from"./chunk-SJOHDBLO.js";import{Gd as S,Hd as T,Id as k,Ra as s,S as C,Xc as E,Yb as m,Zb as p,ab as j,fa as v,fc as I,gc as x,ja as a,oa as n,w as D,xb as y,yb as c,zb as l}from"./chunk-AZWQBZSU.js";var N=(()=>{let t=class t extends H{constructor(){let e=n(E),o=n(P),r=n(R);super("Posts",e,o,r)}getExpandedById(e){let o;return e==null&&(o=new Error(`No "${this.entityName}" key to get`)),this.execute("GET",this.entityUrl+e,o,null,{httpParams:{fromObject:{_expand:"user"}}})}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=a({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var Q=(()=>{let t=class t extends g{constructor(){let e=n(h);super("Users",e)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=a({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var st=(()=>{let t=class t extends g{constructor(){let e=n(h);super("Posts",e),this.postData=n(N),this.userCollection=n(Q)}getAndCountWithQuery(e,o){return this.postData.getAndCountWithQuery(e,o).pipe(v(r=>this.addManyToCache(r.items,{mergeStrategy:u.IgnoreChanges})))}getExpanded(e){return this.postData.getExpandedById(e).pipe(v(o=>{this.addOneToCache(o,{mergeStrategy:u.IgnoreChanges}),this.userCollection.addOneToCache(o.user,{mergeStrategy:u.IgnoreChanges})}))}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=a({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var L=(()=>{let t=class t{constructor(){this.data=n(F),this.dialogRef=n(w)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=j({type:t,selectors:[["app-confirm-dialog"]],decls:11,vars:10,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","align","center"],["mat-button","",3,"mat-dialog-close"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(o,r){o&1&&(c(0,"h1",0),m(1),l(),c(2,"div",1),m(3),l(),c(4,"div",2)(5,"button",3),m(6),I(7,"translate"),l(),c(8,"button",4),m(9),I(10,"translate"),l()()),o&2&&(s(),p(r.data.title),s(2),p(r.data.content),s(2),y("mat-dialog-close",!1),s(),p(x(7,6,"uni.no")),s(2),y("mat-dialog-close",!0),s(),p(x(10,8,"uni.yes")))},dependencies:[O,U,A,G,W,b,M,k,T],encapsulation:2,changeDetection:0});let i=t;return i})();var $=(()=>{let t=class t{constructor(){this.dialog=n(B)}open(e,o){return this.dialog.open(L,{width:"sm",data:{title:e,content:o}}).afterClosed()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=a({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var f=function(i){return i[i.Delete=0]="Delete",i[i.UnsavedWork=1]="UnsavedWork",i}(f||{}),kt=(()=>{let t=class t{constructor(){this.confirm=n($),this.translate=n(S)}openCustomConfirmDialog(e){let o=this.getTitle(e),r=this.getContent(e);return this.open(o,r)}getTitle(e){switch(e){case f.Delete:return this.translate.instant("custom-confirm-dialog.delete-post.title");case f.UnsavedWork:return this.translate.instant("custom-confirm-dialog.unsaved-work.title");default:return this.translate.instant("custom-confirm-dialog.default.title")}}getContent(e){switch(e){case f.Delete:return this.translate.instant("custom-confirm-dialog.delete-post.content");case f.UnsavedWork:return this.translate.instant("custom-confirm-dialog.unsaved-work.content");default:return this.translate.instant("custom-confirm-dialog.default.content")}}open(e,o){return this.confirm.open(e,o).pipe(C(),D(r=>!!r))}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=a({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();export{Q as a,st as b,f as c,kt as d};
