import{M as F,N as B,O as A,P as U,Q as W,R as O,S as R,T as G,fa as P,ga as H,h as E,ia as u,ja as h,k as T,ma as N}from"./chunk-AUU2XHJ7.js";import{Gc as b,Jb as m,Kb as p,Qb as M,Td as k,U as D,Ub as I,Ud as w,Vb as j,Vd as S,Xa as s,Ya as v,ha as g,ib as y,la as a,qa as n,sa as C,tb as c,ub as l,w as x}from"./chunk-P6JOJAQU.js";var Q=(()=>{let t=class t{constructor(e,i){this.data=e,this.dialogRef=i}};t.\u0275fac=function(i){return new(i||t)(v(B),v(F))},t.\u0275cmp=C({type:t,selectors:[["app-confirm-dialog"]],standalone:!0,features:[M],decls:11,vars:10,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","align","center"],["mat-button","",3,"mat-dialog-close"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(i,r){i&1&&(c(0,"h1",0),m(1),l(),c(2,"div",1),m(3),l(),c(4,"div",2)(5,"button",3),m(6),I(7,"translate"),l(),c(8,"button",4),m(9),I(10,"translate"),l()()),i&2&&(s(1),p(r.data.title),s(2),p(r.data.content),s(2),y("mat-dialog-close",!1),s(1),p(j(7,6,"uni.no")),s(2),y("mat-dialog-close",!0),s(1),p(j(10,8,"uni.yes")))},dependencies:[G,U,W,R,O,T,E,S,w],changeDetection:0});let o=t;return o})();var L=(()=>{let t=class t{constructor(e){this.dialog=e}open(e,i){return this.dialog.open(Q,{width:"sm",data:{title:e,content:i}}).afterClosed()}};t.\u0275fac=function(i){return new(i||t)(n(A))},t.\u0275prov=a({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var f=function(o){return o[o.Delete=0]="Delete",o[o.UnsavedWork=1]="UnsavedWork",o}(f||{}),rt=(()=>{let t=class t{constructor(e,i){this.confirm=e,this.translate=i}openCustomConfirmDialog(e){let i=this.getTitle(e),r=this.getContent(e);return this.open(i,r)}getTitle(e){switch(e){case f.Delete:return this.translate.instant("custom-confirm-dialog.delete-post.title");case f.UnsavedWork:return this.translate.instant("custom-confirm-dialog.unsaved-work.title");default:return this.translate.instant("custom-confirm-dialog.default.title")}}getContent(e){switch(e){case f.Delete:return this.translate.instant("custom-confirm-dialog.delete-post.content");case f.UnsavedWork:return this.translate.instant("custom-confirm-dialog.unsaved-work.content");default:return this.translate.instant("custom-confirm-dialog.default.content")}}open(e,i){return this.confirm.open(e,i).pipe(D(),x(r=>!!r))}};t.\u0275fac=function(i){return new(i||t)(n(L),n(k))},t.\u0275prov=a({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var q=(()=>{let t=class t extends N{constructor(e,i,r){super("Posts",e,i,r)}getExpandedById(e){let i;return e==null&&(i=new Error(`No "${this.entityName}" key to get`)),this.execute("GET",this.entityUrl+e,i,null,{httpParams:{fromObject:{_expand:"user"}}})}};t.\u0275fac=function(i){return new(i||t)(n(b),n(H),n(P))},t.\u0275prov=a({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var z=(()=>{let t=class t extends u{constructor(e){super("Users",e)}};t.\u0275fac=function(i){return new(i||t)(n(h))},t.\u0275prov=a({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var dt=(()=>{let t=class t extends u{constructor(e,i,r){super("Posts",r),this.postData=e,this.userCollection=i}getAndCountWithQuery(e,i){return this.postData.getAndCountWithQuery(e,i).pipe(g(r=>this.addManyToCache(r.items)))}getExpanded(e){return this.postData.getExpandedById(e).pipe(g(i=>{this.addOneToCache(i),this.userCollection.addOneToCache(i.user)}))}};t.\u0275fac=function(i){return new(i||t)(n(q),n(z),n(h))},t.\u0275prov=a({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();export{z as a,f as b,rt as c,dt as d};
