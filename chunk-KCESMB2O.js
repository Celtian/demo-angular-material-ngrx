import{a as dt}from"./chunk-ZRVA2XN2.js";import{b as y,c as ht,d as vt}from"./chunk-2Q6MXQZT.js";import{b as ot,c as rt,e as ct}from"./chunk-7VF5P2K4.js";import{d as nt}from"./chunk-KFR4YWFV.js";import{d as lt}from"./chunk-4CXL2XJP.js";import{A as et,B as it,c as b,e as Q,f as V,h as A,i as H,ja as at,k as q,s as J,t as K,y as $,z as tt}from"./chunk-XV2UP6CS.js";import{a as pt,b as st,c as mt,d as ut,e as ft,f as xt}from"./chunk-ZMC2R4JL.js";import{$a as O,Db as R,Fb as f,Fc as z,Jb as p,Kb as m,Lb as C,Qb as L,Qd as X,Rd as G,Sb as I,Tb as k,Td as W,Ub as d,Ud as Y,Vb as l,Vd as Z,Xa as t,Ya as u,Zb as N,_b as j,ac as F,ea as D,hb as g,ib as x,kb as h,ob as P,pb as v,ra as M,sa as w,tb as o,ub as r,vb as _,xa as E,ya as T,zb as B,zc as U}from"./chunk-RCQUF6CP.js";var _t=e=>[e];function gt(e,n){if(e&1){let i=B();o(0,"div",4)(1,"button",5),R("deleted",function(){E(i);let c=f(2);return T(c.onDeleted())}),p(2),d(3,"translate"),r(),o(4,"a",6),d(5,"localize"),p(6),d(7,"translate"),r()()}if(e&2){let i=f(2);t(1),x("appPostDelete",i.dataSource.data().id),t(1),C(" ",l(3,4,"uni.delete")," "),t(2),x("routerLink",I(10,_t,l(5,6,"/"+i.dataSource.data().id+"/"+i.ROUTE_DEFINITION.POSTS.EDIT))),t(2),m(l(7,8,"uni.edit"))}}function Pt(e,n){if(e&1&&(P(0,gt,8,12,"div",1),o(1,"mat-card")(2,"mat-card-header")(3,"mat-card-subtitle"),p(4),r(),o(5,"mat-card-title"),p(6),d(7,"uppercase"),r()(),o(8,"mat-card-content")(9,"p",2),p(10),d(11,"translate"),r(),o(12,"p"),p(13),r(),o(14,"p",2),p(15),d(16,"translate"),r(),_(17,"app-user-info",3),r()()),e&2){let i=f();v(0,i.dataSource.state()==="data"?0:-1),t(3),h("blur-sm",i.dataSource.state()==="loading"),t(1),m("#"+i.dataSource.data().id),t(1),h("blur-sm",i.dataSource.state()==="loading"),t(1),m(l(7,18,i.dataSource.data().title)),t(3),h("blur-sm",i.dataSource.state()==="loading"),t(1),C(" ",l(11,20,"post-detail.about-post")," "),t(2),h("blur-sm",i.dataSource.state()==="loading"),t(1),C(" ",i.dataSource.data().body," "),t(1),h("blur-sm",i.dataSource.state()==="loading"),t(1),C(" ",l(16,22,"post-detail.about-author")," "),t(2),x("user",i.dataSource.data().user)("isLoading",i.dataSource.state()==="loading")}}function bt(e,n){if(e&1&&(o(0,"mat-card")(1,"mat-card-content",7),_(2,"mat-icon",8),d(3,"translate"),o(4,"div"),p(5),r()()()),e&2){let i=f();t(2),g("aria-label",l(3,2,"uni.aria-label.error-icon")),t(3),m(i.dataSource.error())}}function It(e,n){e&1&&(o(0,"mat-card")(1,"mat-card-content",7),_(2,"mat-icon",9),d(3,"translate"),o(4,"div"),p(5),d(6,"translate"),r()()()),e&2&&(t(2),g("aria-label",l(3,2,"uni.aria-label.warning-icon")),t(3),m(l(6,4,"error.post-was-not-found")))}var yt=(e,n)=>[e,n];function Dt(e,n){if(e&1&&(_(0,"mat-icon",11),d(1,"translate"),o(2,"a",6),d(3,"localize"),p(4),r()),e&2){let i=f(2);g("aria-label",l(1,3,"uni.aria-label.arrow-icon")),t(2),x("routerLink",k(7,yt,l(3,5,"/"),i.dataSource.data().id)),t(2),m(i.dataSource.data().id)}}function Mt(e,n){if(e&1&&(o(0,"div",10)(1,"a",6),d(2,"localize"),p(3),d(4,"translate"),r(),P(5,Dt,5,10),r()),e&2){let i=f();t(1),x("routerLink",I(7,_t,l(2,3,"/"))),t(2),m(l(4,5,"breadcrumbs.app.posts")),t(2),v(5,i.dataSource.state()==="data"?5:-1)}}var le=(()=>{let n=class n{constructor(a,c,s,S,Ct,St){this.postCollection=a,this.translate=c,this.breadcrumbsPortalService=s,this.lr=S,this.router=Ct,this.store=St,this.destroyRef=M(O),this.dataSource=new rt(y),this.ROUTE_DEFINITION=nt}ngOnDestroy(){this.portalContent?.detach()}ngOnInit(){this.breadcrumbsPortalService.setPortal(this.portalContent),this.store.select(ot).pipe(vt(this.dataSource),ht(),D(a=>this.postCollection.getExpanded(a)),V(this.destroyRef)).subscribe({next:a=>{this.dataSource.setData(a)},error:a=>{if(a instanceof z&&a.status>=400&&a.status<500)this.dataSource.setData(y);else{let c=this.translate.instant("error.unexpected-exception");this.dataSource.setError(c)}}})}onDeleted(){let a=this.lr.translateRoute("/");this.router.navigate([a])}};n.\u0275fac=function(c){return new(c||n)(u(lt),u(W),u(it),u($),u(J),u(at))},n.\u0275cmp=w({type:n,selectors:[["app-post-detail"]],viewQuery:function(c,s){if(c&1&&j(b,7),c&2){let S;N(S=F())&&(s.portalContent=S.first)}},standalone:!0,features:[L],decls:4,vars:3,consts:[["class","container flex items-center gap-1 py-4",4,"cdkPortal"],["class","flex items-end justify-end gap-2"],[1,"mb-2","font-semibold","text-md"],[3,"user","isLoading"],[1,"flex","items-end","justify-end","gap-2"],["mat-button","","color","accent",3,"appPostDelete","deleted"],["mat-button","","color","primary",3,"routerLink"],[1,"flex","flex-col","gap-2","text-center"],["aria-hidden","false","fontIcon","error"],["aria-hidden","false","fontIcon","warning"],[1,"container","flex","items-center","gap-1","py-4"],["aria-hidden","false","fontIcon","chevron_right"]],template:function(c,s){c&1&&P(0,Pt,18,24,"mat-card")(1,bt,6,4,"mat-card")(2,It,7,6,"mat-card")(3,Mt,6,9,"div",0),c&2&&(v(0,s.dataSource.state()==="data"||s.dataSource.state()==="loading"?0:-1),t(1),v(1,s.dataSource.state()==="error"?1:-1),t(1),v(2,s.dataSource.state()==="empty"?2:-1))},dependencies:[U,xt,pt,mt,ft,ut,st,G,X,q,H,A,Q,b,Z,Y,dt,K,et,tt,ct],styles:["[_nghost-%COMP%]{width:100%;margin-right:auto;margin-left:auto;padding-right:1rem;padding-left:1rem}@media (min-width: 640px){[_nghost-%COMP%]{max-width:640px}}@media (min-width: 768px){[_nghost-%COMP%]{max-width:768px}}@media (min-width: 1024px){[_nghost-%COMP%]{max-width:1024px}}@media (min-width: 1280px){[_nghost-%COMP%]{max-width:1280px}}@media (min-width: 1536px){[_nghost-%COMP%]{max-width:1536px}}[_nghost-%COMP%]{display:block}[_nghost-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}[_nghost-%COMP%]{padding-top:1rem;padding-bottom:1rem}"],changeDetection:0});let e=n;return e})();export{le as PostDetailComponent};
