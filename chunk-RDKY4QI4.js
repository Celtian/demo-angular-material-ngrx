import{a as ot}from"./chunk-NJ7CS4CL.js";import{b as D,c as ut,d as ft}from"./chunk-FW76E7EA.js";import{b as it,c as at,e as rt}from"./chunk-CVAZRG7M.js";import{d as et}from"./chunk-2WQKCHBQ.js";import{b as nt}from"./chunk-F232AJF4.js";import{D as W,E as Y,F as Z,G as $,c as g,e as z,f as A,o as Q,p as V,pa as tt,x as H,y as X}from"./chunk-YVBL3CSY.js";import{a as dt,b as lt,c as pt,d as ct,e as st,f as mt}from"./chunk-NXDPUGZQ.js";import{Aa as w,Ab as _,Dd as j,Ed as q,Gd as G,Hb as O,Hd as J,Id as K,Jb as B,Lb as u,Mc as F,Ra as t,Tb as R,Ub as L,Wb as v,Wc as U,Yb as p,Zb as m,_b as S,ab as E,ca as I,dc as b,ec as k,fc as r,gb as T,gc as d,oa as s,rb as P,rc as N,sb as x,tb as h,ua as M,va as y,xb as C,yb as o,zb as n}from"./chunk-6VE7IALG.js";var xt=e=>[e],ht=(e,a)=>[e,a];function Ct(e,a){if(e&1){let i=O();o(0,"div",1)(1,"button",4),B("deleted",function(){M(i);let c=u(2);return y(c.onDeleted())}),p(2),r(3,"translate"),n(),o(4,"a",5),r(5,"localize"),p(6),r(7,"translate"),n()()}if(e&2){let i=u(2);t(),C("appPostDelete",i.dataSource.data().id),t(),S(" ",d(3,4,"uni.delete")," "),t(2),C("routerLink",b(10,xt,d(5,6,"/"+i.dataSource.data().id+"/"+i.ROUTE_DEFINITION.POSTS.EDIT))),t(2),m(d(7,8,"uni.edit"))}}function vt(e,a){if(e&1&&(x(0,Ct,8,12,"div",1),o(1,"mat-card")(2,"mat-card-header")(3,"mat-card-subtitle"),p(4),n(),o(5,"mat-card-title"),p(6),r(7,"uppercase"),n()(),o(8,"mat-card-content")(9,"p",2),p(10),r(11,"translate"),n(),o(12,"p"),p(13),n(),o(14,"p",2),p(15),r(16,"translate"),n(),_(17,"app-user-info",3),n()()),e&2){let i=u();h(i.dataSource.state()==="data"?0:-1),t(3),v("blur-sm",i.dataSource.state()==="loading"),t(),m("#"+i.dataSource.data().id),t(),v("blur-sm",i.dataSource.state()==="loading"),t(),m(d(7,18,i.dataSource.data().title)),t(3),v("blur-sm",i.dataSource.state()==="loading"),t(),S(" ",d(11,20,"post-detail.about-post")," "),t(2),v("blur-sm",i.dataSource.state()==="loading"),t(),S(" ",i.dataSource.data().body," "),t(),v("blur-sm",i.dataSource.state()==="loading"),t(),S(" ",d(16,22,"post-detail.about-author")," "),t(2),C("user",i.dataSource.data().user)("isLoading",i.dataSource.state()==="loading")}}function _t(e,a){if(e&1&&(o(0,"mat-card")(1,"mat-card-content",6),_(2,"mat-icon",7),r(3,"translate"),o(4,"div"),p(5),n()()()),e&2){let i=u();t(2),P("aria-label",d(3,2,"uni.aria-label.error-icon")),t(3),m(i.dataSource.error())}}function St(e,a){e&1&&(o(0,"mat-card")(1,"mat-card-content",6),_(2,"mat-icon",8),r(3,"translate"),o(4,"div"),p(5),r(6,"translate"),n()()()),e&2&&(t(2),P("aria-label",d(3,2,"uni.aria-label.warning-icon")),t(3),m(d(6,4,"error.post-was-not-found")))}function gt(e,a){if(e&1&&(_(0,"mat-icon",10),r(1,"translate"),o(2,"a",5),r(3,"localize"),p(4),n()),e&2){let i=u(2);P("aria-label",d(1,3,"uni.aria-label.arrow-icon")),t(2),C("routerLink",k(7,ht,d(3,5,"/"),i.dataSource.data().id)),t(2),m(i.dataSource.data().id)}}function Pt(e,a){if(e&1&&(o(0,"div",9)(1,"a",5),r(2,"localize"),p(3),r(4,"translate"),n(),x(5,gt,5,10),n()),e&2){let i=u();t(),C("routerLink",b(7,xt,d(2,3,"/"))),t(2),m(d(4,5,"breadcrumbs.app.posts")),t(2),h(i.dataSource.state()==="data"?5:-1)}}var ee=(()=>{let a=class a{constructor(){this.postCollection=s(nt),this.translate=s(G),this.breadcrumbsPortalService=s($),this.lr=s(W),this.router=s(H),this.store=s(tt),this.portalContent=N.required(g),this.destroyRef=s(w),this.dataSource=new at(D),this.ROUTE_DEFINITION=et}ngOnDestroy(){this.portalContent()?.detach()}ngOnInit(){this.breadcrumbsPortalService.setPortal(this.portalContent()),this.store.select(it).pipe(ft(this.dataSource),ut(),I(l=>this.postCollection.getExpanded(l)),A(this.destroyRef)).subscribe({next:l=>{this.dataSource.setData(l)},error:l=>{if(l instanceof U&&l.status>=400&&l.status<500)this.dataSource.setData(D);else{let c=this.translate.instant("error.unexpected-exception");this.dataSource.setError(c)}}})}onDeleted(){let l=this.lr.translateRoute("/");this.router.navigate([l])}};a.\u0275fac=function(c){return new(c||a)},a.\u0275cmp=E({type:a,selectors:[["app-post-detail"]],viewQuery:function(c,f){c&1&&R(f.portalContent,g,5),c&2&&L()},decls:4,vars:3,consts:[["class","container flex items-center gap-1 py-4",4,"cdkPortal"],[1,"flex","items-end","justify-end","gap-2"],[1,"mb-2","font-semibold","text-md"],[3,"user","isLoading"],["mat-button","","color","accent",3,"deleted","appPostDelete"],["mat-button","","color","primary",3,"routerLink"],[1,"flex","flex-col","gap-2","text-center"],["aria-hidden","false","fontIcon","error"],["aria-hidden","false","fontIcon","warning"],[1,"container","flex","items-center","gap-1","py-4"],["aria-hidden","false","fontIcon","chevron_right"]],template:function(c,f){c&1&&(x(0,vt,18,24),x(1,_t,6,4,"mat-card"),x(2,St,7,6,"mat-card"),T(3,Pt,6,9,"div",0)),c&2&&(h(f.dataSource.state()==="data"||f.dataSource.state()==="loading"?0:-1),t(),h(f.dataSource.state()==="error"?1:-1),t(),h(f.dataSource.state()==="empty"?2:-1))},dependencies:[mt,dt,pt,st,ct,lt,q,j,V,Q,z,g,K,ot,X,Z,rt,F,J,Y],styles:["[_nghost-%COMP%]{width:100%;margin-right:auto;margin-left:auto;padding-right:1rem;padding-left:1rem}@media (min-width: 640px){[_nghost-%COMP%]{max-width:640px}}@media (min-width: 768px){[_nghost-%COMP%]{max-width:768px}}@media (min-width: 1024px){[_nghost-%COMP%]{max-width:1024px}}@media (min-width: 1280px){[_nghost-%COMP%]{max-width:1280px}}@media (min-width: 1536px){[_nghost-%COMP%]{max-width:1536px}}[_nghost-%COMP%]{display:block}[_nghost-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}[_nghost-%COMP%]{padding-top:1rem;padding-bottom:1rem}"],changeDetection:0});let e=a;return e})();export{ee as PostDetailComponent};
