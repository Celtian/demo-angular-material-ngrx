import{Ea as f,Fa as R,Ga as G,Ia as u,Ja as g,Ma as H,ba as w,ca as F,da as B,ea as U,fa as A,ga as W,h as M,ha as P,ia as O,k as b}from"./chunk-CBDSIVUB.js";import{Db as s,Eb as c,Nc as S,S as j,Td as E,Ud as T,Vd as k,Ya as a,Yb as l,Zb as m,ab as v,ec as C,fa as h,fc as I,hb as x,ja as r,oa as o,vb as y,w as D}from"./chunk-I3MT7VEG.js";var N=(()=>{class t{constructor(e,i){this.data=e,this.dialogRef=i}static{this.\u0275fac=function(i){return new(i||t)(v(F),v(w))}}static{this.\u0275cmp=x({type:t,selectors:[["app-confirm-dialog"]],decls:11,vars:10,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","align","center"],["mat-button","",3,"mat-dialog-close"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(i,n){i&1&&(s(0,"h1",0),l(1),c(),s(2,"div",1),l(3),c(),s(4,"div",2)(5,"button",3),l(6),C(7,"translate"),c(),s(8,"button",4),l(9),C(10,"translate"),c()()),i&2&&(a(),m(n.data.title),a(2),m(n.data.content),a(2),y("mat-dialog-close",!1),a(),m(I(7,6,"uni.no")),a(2),y("mat-dialog-close",!0),a(),m(I(10,8,"uni.yes")))},dependencies:[O,U,A,P,W,b,M,k,T],encapsulation:2,changeDetection:0})}}return t})();var Q=(()=>{class t{constructor(e){this.dialog=e}open(e,i){return this.dialog.open(N,{width:"sm",data:{title:e,content:i}}).afterClosed()}static{this.\u0275fac=function(i){return new(i||t)(o(B))}}static{this.\u0275prov=r({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var d=function(t){return t[t.Delete=0]="Delete",t[t.UnsavedWork=1]="UnsavedWork",t}(d||{}),nt=(()=>{class t{constructor(e,i){this.confirm=e,this.translate=i}openCustomConfirmDialog(e){let i=this.getTitle(e),n=this.getContent(e);return this.open(i,n)}getTitle(e){switch(e){case d.Delete:return this.translate.instant("custom-confirm-dialog.delete-post.title");case d.UnsavedWork:return this.translate.instant("custom-confirm-dialog.unsaved-work.title");default:return this.translate.instant("custom-confirm-dialog.default.title")}}getContent(e){switch(e){case d.Delete:return this.translate.instant("custom-confirm-dialog.delete-post.content");case d.UnsavedWork:return this.translate.instant("custom-confirm-dialog.unsaved-work.content");default:return this.translate.instant("custom-confirm-dialog.default.content")}}open(e,i){return this.confirm.open(e,i).pipe(j(),D(n=>!!n))}static{this.\u0275fac=function(i){return new(i||t)(o(Q),o(E))}}static{this.\u0275prov=r({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var $=(()=>{class t extends H{constructor(e,i,n){super("Posts",e,i,n)}getExpandedById(e){let i;return e==null&&(i=new Error(`No "${this.entityName}" key to get`)),this.execute("GET",this.entityUrl+e,i,null,{httpParams:{fromObject:{_expand:"user"}}})}static{this.\u0275fac=function(i){return new(i||t)(o(S),o(G),o(R))}}static{this.\u0275prov=r({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var q=(()=>{class t extends u{constructor(e){super("Users",e)}static{this.\u0275fac=function(i){return new(i||t)(o(g))}}static{this.\u0275prov=r({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var pt=(()=>{class t extends u{constructor(e,i,n){super("Posts",n),this.postData=e,this.userCollection=i}getAndCountWithQuery(e,i){return this.postData.getAndCountWithQuery(e,i).pipe(h(n=>this.addManyToCache(n.items,{mergeStrategy:f.IgnoreChanges})))}getExpanded(e){return this.postData.getExpandedById(e).pipe(h(i=>{this.addOneToCache(i,{mergeStrategy:f.IgnoreChanges}),this.userCollection.addOneToCache(i.user,{mergeStrategy:f.IgnoreChanges})}))}static{this.\u0275fac=function(i){return new(i||t)(o($),o(q),o(g))}}static{this.\u0275prov=r({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();export{q as a,d as b,nt as c,pt as d};
