import{Fa as R,Ga as G,Ha as H,Ja as f,Ka as u,Na as N,ca as w,da as F,ea as B,fa as U,ga as A,h as M,ha as W,ia as P,ja as O,k as b}from"./chunk-XBKZXSTQ.js";import{$a as h,Ab as c,Oc as S,Qd as E,Rd as T,Sd as k,Ub as l,V as I,Vb as m,Zb as x,_a as a,bc as y,cc as C,ia as g,ma as r,ra as o,rb as v,x as D,xa as j,zb as s}from"./chunk-53LLQH3N.js";var Q=(()=>{class t{constructor(e,i){this.data=e,this.dialogRef=i}static{this.\u0275fac=function(i){return new(i||t)(h(F),h(w))}}static{this.\u0275cmp=j({type:t,selectors:[["app-confirm-dialog"]],standalone:!0,features:[x],decls:11,vars:10,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","align","center"],["mat-button","",3,"mat-dialog-close"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(i,n){i&1&&(s(0,"h1",0),l(1),c(),s(2,"div",1),l(3),c(),s(4,"div",2)(5,"button",3),l(6),y(7,"translate"),c(),s(8,"button",4),l(9),y(10,"translate"),c()()),i&2&&(a(),m(n.data.title),a(2),m(n.data.content),a(2),v("mat-dialog-close",!1),a(),m(C(7,6,"uni.no")),a(2),v("mat-dialog-close",!0),a(),m(C(10,8,"uni.yes")))},dependencies:[O,U,A,P,W,b,M,k,T],changeDetection:0})}}return t})();var L=(()=>{class t{constructor(e){this.dialog=e}open(e,i){return this.dialog.open(Q,{width:"sm",data:{title:e,content:i}}).afterClosed()}static{this.\u0275fac=function(i){return new(i||t)(o(B))}}static{this.\u0275prov=r({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var d=function(t){return t[t.Delete=0]="Delete",t[t.UnsavedWork=1]="UnsavedWork",t}(d||{}),rt=(()=>{class t{constructor(e,i){this.confirm=e,this.translate=i}openCustomConfirmDialog(e){let i=this.getTitle(e),n=this.getContent(e);return this.open(i,n)}getTitle(e){switch(e){case d.Delete:return this.translate.instant("custom-confirm-dialog.delete-post.title");case d.UnsavedWork:return this.translate.instant("custom-confirm-dialog.unsaved-work.title");default:return this.translate.instant("custom-confirm-dialog.default.title")}}getContent(e){switch(e){case d.Delete:return this.translate.instant("custom-confirm-dialog.delete-post.content");case d.UnsavedWork:return this.translate.instant("custom-confirm-dialog.unsaved-work.content");default:return this.translate.instant("custom-confirm-dialog.default.content")}}open(e,i){return this.confirm.open(e,i).pipe(I(),D(n=>!!n))}static{this.\u0275fac=function(i){return new(i||t)(o(L),o(E))}}static{this.\u0275prov=r({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var q=(()=>{class t extends N{constructor(e,i,n){super("Posts",e,i,n)}getExpandedById(e){let i;return e==null&&(i=new Error(`No "${this.entityName}" key to get`)),this.execute("GET",this.entityUrl+e,i,null,{httpParams:{fromObject:{_expand:"user"}}})}static{this.\u0275fac=function(i){return new(i||t)(o(S),o(H),o(G))}}static{this.\u0275prov=r({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var z=(()=>{class t extends f{constructor(e){super("Users",e)}static{this.\u0275fac=function(i){return new(i||t)(o(u))}}static{this.\u0275prov=r({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var dt=(()=>{class t extends f{constructor(e,i,n){super("Posts",n),this.postData=e,this.userCollection=i}getAndCountWithQuery(e,i){return this.postData.getAndCountWithQuery(e,i).pipe(g(n=>this.addManyToCache(n.items,{mergeStrategy:R.IgnoreChanges})))}getExpanded(e){return this.postData.getExpandedById(e).pipe(g(i=>{this.addOneToCache(i),this.userCollection.addOneToCache(i.user)}))}static{this.\u0275fac=function(i){return new(i||t)(o(q),o(z),o(u))}}static{this.\u0275prov=r({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();export{z as a,d as b,rt as c,dt as d};
